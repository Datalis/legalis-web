<div class="home-container container-fluid container-lg px-0 px-md-4">
  <div>
    <div class="recent bg-blue-light my-md-5" *ngIf="recentGazette">
      <h6 class="py-4 text-center text-dark fw-bolder mb-0">NORMATIVA RECIENTE</h6>
      <div class="divider"></div>
      <div class="d-flex flex-column px-4 py-3">
        <h6 class="mb-1 text-dark fw-bold">{{ recentGazette.name }}</h6>
        <small class="text-small text-muted">{{ recentGazette.date }}</small>
      </div>
      <div class="divider"></div>
      <div class="recent-container row mx-0 py-3">
        <div class="col-md-6 col-sm-12 px-4 py-2" *ngFor="let item of recentGazette.normatives">
          <a class="recent-item pb-2" [routerLink]="['/normativa', item.id]">
            <small class="d-block text-accent mb-0 fw-bold">{{ item.name }}</small>
            <small class="text-small text-dark text-uppercase fw-bold">{{ item.normtype }}</small>
            <p class="mb-1 text-dark">
              {{ item.summary }}
            </p>
            <small class="text-blue text-small text-italic fw-bold">{{ item.keywords?.join(", ") | decodeUri }}</small>
          </a>
        </div>
      </div>
    </div>
    <div class="d-flex flex-column align-items-center my-5 px-lg-0 px-5 mx-md-0">
      <h6 class="mb-5 text-dark fw-bold">NORMAS MÁS CONSULTADAS</h6>
      <ng-container *ngIf="isBrowser">
        <carousel [cellWidth]="280" [height]="280" #carousel>
          <a
            class="popular-cell carousel-cell px-4 py-3 bg-blue-light d-flex flex-column"
            *ngFor="let item of popularNormatives"
            [routerLink]="['/normativa', item.id]"
          >
            <span class="border-bottom mb-3"></span>
            <small class="text-accent mb-0 fw-bold" style="line-height: 1">{{ item.name }}</small>
            <!--<small class="text-blue fw-bold text-uppercase mt-1">Tematica</small>-->
            <small class="my-1 text-muted text-small">{{ item.year }}</small>
            <p class="w-100 text-dark text-small mb-0">
              {{ item.summary }}
            </p>
            <small class="text-small text-blue text-italic fw-bold mt-auto lh-1">
              {{ item.keywords?.slice(0, 2)?.join(", ") | decodeUri }}
            </small>
          </a>
        </carousel>
      </ng-container>
    </div>
    <div class="row mx-0 mb-lg-4">
      <div class="col-lg-6 px-0 px-lg-2 ps-lg-0 d-flex flex-column align-items-stretch justify-content-between">
        <section class="analysis p-4 d-flex flex-column flex-grow-1 mb-2">
          <h6 class="text-blue fw-bold text-uppercase text-center">Análisis</h6>
          <span class="mt-4 fw-bold mb-2">Preguntas frecuentes</span>
          <p class="text-small text-black">
            Browser default checkboxes and radios are replaced with the help of .form-check, a series of classes for
            both input types that improves the layout and behavior of their HTML elements, that provide greater
            customization and cross browser consistency. Checkboxes are for selecting one or several options in a list,
            while radios are for selecting one option from many. Browser default checkboxes and radios are replaced with
            the help of .form-check, a series of classes for both input types that improves the layout and behavior of
            their HTML elements, that provide greater customization and cross browser consistency. Checkboxes are for
            selecting one or several options in a list, while radios are for selecting one option from many.
          </p>
          <a class="mt-2 text-end fw-bold text-blue text-small mt-auto" href="#">
            <em class="me-2">Leer más</em> <strong>+</strong>
          </a>
        </section>
        <section class="analysis p-4 d-flex flex-column mt-1 flex-grow-1">
          <h6 class="text-blue fw-bold text-uppercase text-center">Análisis</h6>
          <span class="mt-4 fw-bold mb-2">Preguntas frecuentes</span>
          <p class="text-small text-black">
            Browser default checkboxes and radios are replaced with the help of .form-check, a series of classes for
            both input types that improves the layout and behavior of their HTML elements, that provide greater
            customization and cross browser consistency. Checkboxes are for selecting one or several options in a list,
            while radios are for selecting one option from many. Browser default checkboxes and radios are replaced with
            the help of. Browser default checkboxes and radios are replaced with the help of .form-check, a series of
            classes for both input types that improves the layout and behavior of their HTML elements, that provide
            greater customization and cross browser consistency. Checkboxes are for selecting one or several options in
            a list, while radios are for selecting one option from many. Browser default checkboxes and radios are
            replaced with the help of
          </p>
          <a class="mt-2 text-end fw-bold text-blue text-small mt-auto" href="#"
            ><em class="me-2">Leer más</em> <strong>+</strong></a
          >
        </section>
      </div>
      <section class="related-news my-2 my-lg-0 col-lg-6 bg-blue d-flex flex-column align-items-center py-4 px-5">
        <!--<h6 class="text-light fw-bold text-uppercase">Infografía</h6>
        <img class="mt-4" width="90%" height="100%" style="object-fit: cover;" [src]="infog?.imagen" alt="" />
        <a routerLink="/infographics" class="fw-bold text-italic text-light mt-4">Ver más...</a>-->
        <h6 class="text-light text-center fw-bold text-uppercase mb-5">Publicado en el toque jurídico</h6>
        <ng-container *ngIf="isBrowser">
          <carousel cellWidth="100%" [lightDOM]="true" [height]="450">
            <div class="carousel-cell" *ngFor="let item of relatedNews">
              <a href="https://eltoque.com/{{ item.slug }}" target="_blank" class="carousel-item">
                <div class="carousel-image">
                  <img
                    class="img-fluid"
                    *ngIf="item.feature_image"
                    src="https://api.eltoque.com{{ item.feature_image?.url }}"
                    [alt]="item.feature_image_alt"
                  />
                </div>
                <div class="carousel-content">
                  <span class="text-light fw-bold mb-2">{{ item.title }}</span>
                  <small class="text-accent text-small" *ngIf="item.authors?.length"
                    >{{ item.authors[0]?.fullName }}, {{ item.publish_date | date: "longDate":"":"es-CU" }}</small
                  >
                  <p class="mt-3 mb-0">
                    {{ item.excerpt }}
                  </p>
                </div>
              </a>
            </div>
          </carousel>
        </ng-container>
      </section>
      <section class="info bg-accent mt-lg-4 px-5 py-4">
        <h6 class="text-light text-center fw-bold text-uppercase mb-4">infografías</h6>
        <div class="row">
          <div class="col-sm-4" *ngFor="let item of infographics">
            <a routerLink="/infografias/{{ item.id }}" class="d-flex flex-column">
              <img
                class="img-fluid ratio ratio-16x9 pb-4"
                style="object-fit: cover; height: 250px"
                [src]="item.imagen"
              />
              <span class="border-bottom"></span>
              <h4 class="text-light text-bolder text-center mt-2">+</h4>
            </a>
          </div>
        </div>
      </section>
    </div>
  </div>
  <ng-template #loading>
    <app-loader></app-loader>
  </ng-template>
</div>
