<div class="home-container container-fluid container-lg px-0 px-md-4">
  <div *ngIf="!isLoading; else loading">
    <div class="my-md-5" *ngIf="recent">
      <h5 class="p-4 text-center text-blue fw-bold mb-0">NORMATIVA RECIENTE</h5>
      <div class="bg-blue-light d-flex flex-column px-4 py-3 border-bottom">
        <h6 class="mb-1 text-blue fw-bold">{{ recent?.name }}</h6>
        <small class="">{{ recent?.date }}</small>
      </div>
      <div class="bg-blue-light  recent-container row mx-0 py-3">
        <div class="col-md-6 col-sm-12 px-4 py-2" *ngFor="let item of recent.normatives">
          <a class="recent-item pb-2" [routerLink]="['/normative', item.id]">
            <h6 class="text-accent mb-0 fw-bold">{{ item.name }}</h6>
            <small class="text-small text-dark text-uppercase fw-bold">{{ item.normtype }}</small>
            <p class="mb-1 text-dark">
              {{ item.summary }}
            </p>
            <small class="text-blue text-small text-italic fw-bold">{{ item.keywords?.join(", ") }}</small>
          </a>
        </div>
      </div>
    </div>
    <div class="d-flex flex-column align-items-center my-5 px-lg-0 px-5 mx-md-0">
      <h5 class="mb-4 text-blue fw-bold">NORMATIVA POPULAR</h5>
      <carousel [cellWidth]="280" #carousel>
        <a
          class="carousel-cell px-4 py-3 bg-blue-light d-flex flex-column"
          *ngFor="let item of popular"
          [routerLink]="['/normative', item.id]"
        >
          <small class="text-accent mb-0 fw-bold" style="line-height: 1">{{ item.name }}</small>
          <!--<small class="text-blue fw-bold text-uppercase mt-1">Tematica</small>-->
          <small class="my-1 text-dark">1/01/2021</small>
          <p class="w-100 text-dark" style="line-height: 1; margin-bottom: 0">
            {{ item.summary }}
          </p>
          <small class="text-small text-blue text-italic fw-bold mt-auto">
            {{ item.keywords.slice(0, 2).join(", ") }}
          </small>
        </a>
      </carousel>
    </div>
    <div class="row mx-0 mb-lg-4">
      <div class="col-lg-6 ps-lg-0 d-flex flex-column align-items-stretch justify-content-between">
        <div class="bg-surface p-4 d-flex flex-column flex-grow-1 mb-2">
          <h6 class="text-blue fw-bold text-uppercase text-center">Análisis</h6>
          <span class="mt-4 fw-bold mb-2">Preguntas frecuentes</span>
          <p class="text-small fw-bold">
            Browser default checkboxes and radios are replaced with the help of .form-check, a series of classes for
            both input types that improves the layout and behavior of their HTML elements, that provide greater
            customization and cross browser consistency. Checkboxes are for selecting one or several options in a list,
            while radios are for selecting one option from many. Browser default checkboxes and radios are replaced with
            the help of .form-check, a series of classes for both input types that improves the layout and behavior of
            their HTML elements, that provide greater customization and cross browser consistency. Checkboxes are for
            selecting one or several options in a list, while radios are for selecting one option from many.
          </p>
          <a class="mt-2 text-end text-italic fw-bold text-blue mt-auto" href="#">Leer más...</a>
        </div>
        <div class="bg-surface p-4 d-flex flex-column mt-1 flex-grow-1">
          <h6 class="text-blue fw-bold text-uppercase text-center">Análisis</h6>
          <span class="mt-4 fw-bold mb-2">Preguntas frecuentes</span>
          <p class="text-small fw-bold">
            Browser default checkboxes and radios are replaced with the help of .form-check, a series of classes for
            both input types that improves the layout and behavior of their HTML elements, that provide greater
            customization and cross browser consistency. Checkboxes are for selecting one or several options in a list,
            while radios are for selecting one option from many. Browser default checkboxes and radios are replaced with
            the help of. Browser default checkboxes and radios are replaced with the help of .form-check, a series of
            classes for both input types that improves the layout and behavior of their HTML elements, that provide
            greater customization and cross browser consistency. Checkboxes are for selecting one or several options in
            a list, while radios are for selecting one option from many. Browser default checkboxes and radios are
            replaced with the help of
          </p>
          <a class="mt-2 text-end text-italic fw-bold text-blue mt-auto" href="#">Leer más...</a>
        </div>
      </div>
      <div class="col-lg-6 bg-accent d-flex flex-column align-items-center py-4">
        <h6 class="text-light fw-bold text-uppercase">Infografía</h6>
        <img class="mt-4" width="90%" height="100%" style="object-fit: cover;" [src]="infog?.imagen" alt="" />
        <a routerLink="/infographics" class="fw-bold text-italic text-light mt-4">Ver más...</a>
      </div>
    </div>
  </div>
  <ng-template #loading>
    <app-loader></app-loader>
  </ng-template>
</div>
